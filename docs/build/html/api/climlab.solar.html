<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>climlab.solar package &mdash; climlab 0.3.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="climlab 0.3.2 documentation" href="../index.html" />
    <link rel="up" title="Application Programming Interface" href="climlab.html" />
    <link rel="next" title="climlab.surface package" href="climlab.surface.html" />
    <link rel="prev" title="climlab.radiation package" href="climlab.radiation.html" /> 
  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/logo.png" border="0" alt="sampledoc"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="climlab.surface.html" title="climlab.surface package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="climlab.radiation.html" title="climlab.radiation package"
             accesskey="P">previous</a> |</li>
        <li><a href="../intro.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="climlab.html" accesskey="U">Application Programming Interface</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="climlab.html">Application Programming Interface</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="climlab.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="climlab.html#inheritance-diagram">Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/climlab.solar.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: navy;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: darkred;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansiblack { color: black; }
.ansired { color: darkred; }
.ansigreen { color: darkgreen; }
.ansiyellow { color: #c4a000; }
.ansiblue { color: darkblue; }
.ansipurple { color: darkviolet; }
.ansicyan { color: steelblue; }
/* See https://github.com/jupyter/nbconvert/issues/174 */
.ansigray { color: gray; }  /* nbconvert CSS */
.ansigrey { color: gray; }  /* nbconvert HTML output */

.ansibgblack { background-color: black; }
.ansibgred { background-color: red; }
.ansibggreen { background-color: green; }
.ansibgyellow { background-color: yellow; }
.ansibgblue { background-color: blue; }
.ansibgpurple { background-color: magenta; }
.ansibgcyan { background-color: cyan; }
.ansibggray { background-color: gray; }

.ansibold { font-weight: bold; }
</style>
<div class="section" id="climlab-solar-package">
<h1>climlab.solar package<a class="headerlink" href="#climlab-solar-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-climlab.solar.insolation">
<span id="climlab-solar-insolation-module"></span><h2>climlab.solar.insolation module<a class="headerlink" href="#module-climlab.solar.insolation" title="Permalink to this headline">¶</a></h2>
<p>This module contains general-purpose routines for computing incoming
solar radiation at the top of the atmosphere.</p>
<p>Currently, only daily average insolation is computed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Ported and modified from MATLAB code daily_insolation.m</p>
<p><em>Original authors:</em></p>
<blockquote>
<div>Ian Eisenman and Peter Huybers, Harvard University, August 2006</div></blockquote>
<p class="last">Available online at <a class="reference external" href="http://eisenman.ucsd.edu/code/daily_insolation.m">http://eisenman.ucsd.edu/code/daily_insolation.m</a></p>
</div>
<p>If using calendar days, solar longitude is found using an
approximate solution to the differential equation representing conservation
of angular momentum (Kepler&#8217;s Second Law).  Given the orbital parameters
and solar longitude, daily average insolation is calculated exactly
following [Berger_1978]. Further references: [Berger_1991].</p>
<dl class="function">
<dt id="climlab.solar.insolation.daily_insolation">
<code class="descclassname">climlab.solar.insolation.</code><code class="descname">daily_insolation</code><span class="sig-paren">(</span><em>lat</em>, <em>day</em>, <em>orb={'long_peri': 281.37</em>, <em>'ecc': 0.017236</em>, <em>'obliquity': 23.446}</em>, <em>S0=None</em>, <em>day_type=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/climlab/solar/insolation.html#daily_insolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.insolation.daily_insolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute daily average insolation given latitude, time of year and orbital parameters.</p>
<p>Orbital parameters can be computed for any time in the last 5 Myears with
<a class="reference internal" href="#climlab.solar.orbital.OrbitalTable.lookup_parameters" title="climlab.solar.orbital.OrbitalTable.lookup_parameters"><code class="xref py py-func docutils literal"><span class="pre">lookup_parameters()</span></code></a> (see example below).</p>
<p><strong>Function-call argument</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; Latitude in degrees (-90 to 90).</li>
<li><strong>day</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; Indicator of time of year. See argument <code class="docutils literal"><span class="pre">day_type</span></code>
for details about format.</li>
<li><strong>orb</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; <p>a dictionary with three members (as provided by 
<a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">OrbitalTable</span></code></a>)</p>
<ul>
<li><code class="docutils literal"><span class="pre">'ecc'</span></code> - eccentricity<blockquote>
<div><ul>
<li>unit: dimensionless</li>
<li>default value: <code class="docutils literal"><span class="pre">0.017236</span></code></li>
</ul>
</div></blockquote>
</li>
<li><code class="docutils literal"><span class="pre">'long_peri'</span></code> - longitude of perihelion (precession angle)<blockquote>
<div><ul>
<li>unit: degrees</li>
<li>default value: <code class="docutils literal"><span class="pre">281.37</span></code></li>
</ul>
</div></blockquote>
</li>
<li><code class="docutils literal"><span class="pre">'obliquity'</span></code> - obliquity angle<blockquote>
<div><ul>
<li>unit: degrees</li>
<li>default value: <code class="docutils literal"><span class="pre">23.446</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><strong>S0</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; <p>solar constant</p>
<ul>
<li>unit: <span class="math">\(\textrm{W}/\textrm{m}^2\)</span></li>
<li>default value: <code class="docutils literal"><span class="pre">1365.2</span></code></li>
</ul>
</li>
<li><strong>day_type</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; <p>Convention for specifying time of year (+/- 1,2) [optional].</p>
<dl class="docutils">
<dt><em>day_type=1</em> (default):</dt>
<dd>day input is calendar day (1-365.24), where day 1
is January first. The calendar is referenced to the 
vernal equinox which always occurs at day 80.</dd>
<dt><em>day_type=2:</em> </dt>
<dd>day input is solar longitude (0-360 degrees). Solar
longitude is the angle of the Earth&#8217;s orbit measured from spring
equinox (21 March). Note that calendar days and solar longitude are
not linearly related because, by Kepler&#8217;s Second Law, Earth&#8217;s
angular velocity varies according to its distance from the sun.</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code>
if day_type is neither 1 nor 2</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Daily average solar radiation in unit 
<span class="math">\(\textrm{W}/\textrm{m}^2\)</span>.</p>
<p>Dimensions of output are <code class="docutils literal"><span class="pre">(lat.size,</span> <span class="pre">day.size,</span> <span class="pre">ecc.size)</span></code></p>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)">array</a></p>
</td>
</tr>
</tbody>
</table>
<p>Code is fully vectorized to handle array input for all arguments.</p>
<p>Orbital arguments should all have the same sizes.
This is automatic if computed from 
<a class="reference internal" href="#climlab.solar.orbital.OrbitalTable.lookup_parameters" title="climlab.solar.orbital.OrbitalTable.lookup_parameters"><code class="xref py py-func docutils literal"><span class="pre">lookup_parameters()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><p class="first">to compute the timeseries of insolation at 65N at summer
solstice over the past 5 Myears:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">climlab.solar.orbital</span> <span class="kn">import</span> <span class="n">OrbitalTable</span>
<span class="kn">from</span> <span class="nn">climlab.solar.insolation</span> <span class="kn">import</span> <span class="n">daily_insolation</span>

<span class="c1"># import orbital table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">OrbitalTable</span><span class="p">()</span>

<span class="c1"># array with specified kyears </span>
<span class="n">years</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5001</span><span class="p">)</span>

<span class="c1"># orbital parameters for specified time</span>
<span class="n">orb</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">lookup_parameters</span><span class="p">(</span> <span class="n">years</span> <span class="p">)</span>

<span class="c1"># insolation values for past 5 Myears at 65N at summer solstice</span>
<span class="n">S65</span> <span class="o">=</span> <span class="n">daily_insolation</span><span class="p">(</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="n">orb</span> <span class="p">)</span>
</pre></div>
</div>
<p class="last">For more information about computation of solar insolation see the
<a class="reference internal" href="../tutorial.html#tutorial"><span>Tutorials</span></a> chapter.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="climlab.solar.insolation.solar_longitude">
<code class="descclassname">climlab.solar.insolation.</code><code class="descname">solar_longitude</code><span class="sig-paren">(</span><em>day</em>, <em>orb={'long_peri': 281.37</em>, <em>'ecc': 0.017236</em>, <em>'obliquity': 23.446}</em>, <em>days_per_year=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/climlab/solar/insolation.html#solar_longitude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.insolation.solar_longitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates solar longitude from calendar day.</p>
<p>Method is using an approximation from [Berger_1978] section 3
(lambda = 0 at spring equinox).</p>
<p><strong>Function-call arguments</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>day</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; Indicator of time of year.</li>
<li><strong>orb</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; <p>a dictionary with three members (as provided by 
<a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">OrbitalTable</span></code></a>)</p>
<ul>
<li><code class="docutils literal"><span class="pre">'ecc'</span></code> - eccentricity<blockquote>
<div><ul>
<li>unit: dimensionless</li>
<li>default value: <code class="docutils literal"><span class="pre">0.017236</span></code></li>
</ul>
</div></blockquote>
</li>
<li><code class="docutils literal"><span class="pre">'long_peri'</span></code> - longitude of perihelion 
(precession angle)<blockquote>
<div><ul>
<li>unit: degrees</li>
<li>default value: <code class="docutils literal"><span class="pre">281.37</span></code></li>
</ul>
</div></blockquote>
</li>
<li><code class="docutils literal"><span class="pre">'obliquity'</span></code> - obliquity angle<blockquote>
<div><ul>
<li>unit: degrees</li>
<li>default value: <code class="docutils literal"><span class="pre">23.446</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><strong>days_per_year</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; number of days in a year (optional) 
(default: 365.2422)
Reads the length of the year from 
<a class="reference internal" href="climlab.utils.html#module-climlab.utils.constants" title="climlab.utils.constants"><code class="xref py py-mod docutils literal"><span class="pre">constants</span></code></a> if available.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">solar longitude <code class="docutils literal"><span class="pre">lambda_long</span></code>
in dimension``( day.size, ecc.size )``</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)">array</a></p>
</td>
</tr>
</tbody>
</table>
<p>Works for both scalar and vector orbital parameters.</p>
</dd></dl>

</div>
<div class="section" id="climlab-solar-orbital-module">
<h2>climlab.solar.orbital module<a class="headerlink" href="#climlab-solar-orbital-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-bb5159a986921c4d1adbe7ce684592f9729e342c.png" alt="Inheritance diagram of climlab.solar.orbital" usemap="#inheritance03cf696ba4" class="inheritance"/>
<map id="inheritance03cf696ba4" name="inheritance03cf696ba4">
<area shape="rect" id="node1" href="#climlab.solar.orbital.LongOrbitalTable" target="_top" title="Loads orbital parameter tables for &#45;51 to +21 Myears." alt="" coords="187,5,365,35"/>
<area shape="rect" id="node2" href="#climlab.solar.orbital.OrbitalTable" target="_top" title="Invoking OrbitalTable() will load 5 million years of orbital data" alt="" coords="6,5,138,35"/>
</map>
</p>
<span class="target" id="module-climlab.solar.orbital"></span><p>This module defines the class <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">OrbitalTable</span></code></a> which holds orbital data,
and includes a method <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable.lookup_parameters" title="climlab.solar.orbital.OrbitalTable.lookup_parameters"><code class="xref py py-func docutils literal"><span class="pre">lookup_parameters()</span></code></a> 
which interpolates the orbital data for a specific year 
(- works equally well for arrays of years).</p>
<p>The base class <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">OrbitalTable()</span></code></a> is designed to work with 5 Myears of orbital data
(<strong>eccentricity, obliquity, and longitude of perihelion</strong>) from [Berger_1991].</p>
<p>Data will be read from the file orbit91, which was originally obtained from
<a class="reference external" href="ftp://ftp.ncdc.noaa.gov/pub/data/paleo/insolation/">ftp://ftp.ncdc.noaa.gov/pub/data/paleo/insolation/</a>
If the file isn&#8217;t found locally, the module will attempt to read it remotely
from the above URL.</p>
<p>A subclass <a class="reference internal" href="#climlab.solar.orbital.LongOrbitalTable" title="climlab.solar.orbital.LongOrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">LongOrbitalTable()</span></code></a> works with La2004 orbital data for 
-51 to +21 Myears as calculated by [Laskar_2004].
See <a class="reference external" href="http://vo.imcce.fr/insola/earth/online/earth/La2004/README.TXT">http://vo.imcce.fr/insola/earth/online/earth/La2004/README.TXT</a></p>
<dl class="class">
<dt id="climlab.solar.orbital.LongOrbitalTable">
<em class="property">class </em><code class="descclassname">climlab.solar.orbital.</code><code class="descname">LongOrbitalTable</code><a class="reference internal" href="../_modules/climlab/solar/orbital.html#LongOrbitalTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.orbital.LongOrbitalTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">climlab.solar.orbital.OrbitalTable</span></code></a></p>
<p>Loads orbital parameter tables for -51 to +21 Myears.</p>
<dl class="docutils">
<dt>Based on calculations by [Laskar_2004]</dt>
<dd><a class="reference external" href="http://vo.imcce.fr/insola/earth/online/earth/La2004/README.TXT">http://vo.imcce.fr/insola/earth/online/earth/La2004/README.TXT</a></dd>
</dl>
<p>Usage is identical to parent class <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable" title="climlab.solar.orbital.OrbitalTable"><code class="xref py py-class docutils literal"><span class="pre">OrbitalTable()</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="climlab.solar.orbital.OrbitalTable">
<em class="property">class </em><code class="descclassname">climlab.solar.orbital.</code><code class="descname">OrbitalTable</code><a class="reference internal" href="../_modules/climlab/solar/orbital.html#OrbitalTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.orbital.OrbitalTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoking OrbitalTable() will load 5 million years of orbital data
from [Berger_1991] and compute linear interpolants.</p>
<p>The data can be accessed through the method <a class="reference internal" href="#climlab.solar.orbital.OrbitalTable.lookup_parameters" title="climlab.solar.orbital.OrbitalTable.lookup_parameters"><code class="xref py py-func docutils literal"><span class="pre">lookup_parameters()</span></code></a>.</p>
<p><strong>Object attributes</strong></p>
<p>Following object attributes are generated during initialization:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>kyear</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; time table with negative values are before present 
(<em>unit:</em> kyears)</li>
<li><strong>ecc</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; eccentricity over time (<em>unit:</em> dimensionless)</li>
<li><strong>long_peri</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; longitude of perihelion (precession angle) (<em>unit:</em> degrees)</li>
<li><strong>obliquity</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; obliquity angle (<em>unit:</em> degrees)</li>
<li><strong>kyear_min</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; minimum value of time table (<em>unit:</em> kyears)</li>
<li><strong>kyear_max</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; maximum value of time table (<em>unit:</em> kyears)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="climlab.solar.orbital.OrbitalTable.lookup_parameters">
<code class="descname">lookup_parameters</code><span class="sig-paren">(</span><em>kyear=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/climlab/solar/orbital.html#OrbitalTable.lookup_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.orbital.OrbitalTable.lookup_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up orbital parameters for given kyear measured from present.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Input <code class="docutils literal"><span class="pre">kyear</span></code> is thousands of years after present.
For years before present, use <code class="docutils literal"><span class="pre">kyear</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>.</p>
</div>
<p><strong>Function-call argument</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kyear</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; Time for which oribtal parameters should be given.     
Will handle scalar or vector input (for multiple years).
[default: 0]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a three-member dictionary of orbital parameters:<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">'ecc'</span></code>: eccentricity (dimensionless)</li>
<li><code class="docutils literal"><span class="pre">'long_peri'</span></code>: longitude of perihelion 
relative to vernal equinox (degrees)</li>
<li><code class="docutils literal"><span class="pre">'obliquity'</span></code>: obliquity angle or axial tilt (degrees).</li>
</ul>
</div></blockquote>
<p>Each member is an array of same size as kyear.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="climlab-solar-orbital-cycles-module">
<h2>climlab.solar.orbital_cycles module<a class="headerlink" href="#climlab-solar-orbital-cycles-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-a18980d6b7778df0f62c66a8dcc066f67f92a968.png" alt="Inheritance diagram of climlab.solar.orbital_cycles" usemap="#inheritancead427aefdc" class="inheritance"/>
<map id="inheritancead427aefdc" name="inheritancead427aefdc">
<area shape="rect" id="node1" href="#climlab.solar.orbital_cycles.OrbitalCycles" target="_top" title="OrbitalCycles" alt="" coords="6,5,149,35"/>
</map>
</p>
<span class="target" id="module-climlab.solar.orbital_cycles"></span><dl class="class">
<dt id="climlab.solar.orbital_cycles.OrbitalCycles">
<em class="property">class </em><code class="descclassname">climlab.solar.orbital_cycles.</code><code class="descname">OrbitalCycles</code><span class="sig-paren">(</span><em>model</em>, <em>kyear_start=-20.0</em>, <em>kyear_stop=0.0</em>, <em>segment_length_years=100.0</em>, <em>orbital_year_factor=1.0</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/climlab/solar/orbital_cycles.html#OrbitalCycles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#climlab.solar.orbital_cycles.OrbitalCycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically integrates a process through changes in orbital parameters.</p>
<p>OrbitalCycles is a module for setting up long integrations of climlab 
processes over orbital cycles.</p>
<p>The duration between integration start and end time is partitioned in 
time segments over which the orbital parameters are held constant.
The process is integrated over every time segment and the process state
<code class="docutils literal"><span class="pre">Ts</span></code> is stored for each segment.</p>
<p>The storage arrays are saving:</p>
<blockquote>
<div><ul class="simple">
<li><strong>current model state</strong> at end of each segment</li>
<li><strong>model state averaged</strong> over last integrated year of each segment</li>
<li><strong>global mean</strong> of averaged model state over last integrated year 
of each segment</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Input <code class="docutils literal"><span class="pre">kyear</span></code> is thousands of years after present.
For years before present, use <code class="docutils literal"><span class="pre">kyear</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>.</p>
</div>
<p><strong>Initialization parameters</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> (<a class="reference internal" href="climlab.process.html#climlab.process.time_dependent_process.TimeDependentProcess" title="climlab.process.time_dependent_process.TimeDependentProcess"><code class="xref py py-class docutils literal"><span class="pre">TimeDependentProcess</span></code></a>) &#8211; a time dependent process</li>
<li><strong>kyear_start</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; <p>integration start time.</p>
<p>As time reference
is present, argument should be <span class="math">\(&lt;0\)</span> 
for time before present.</p>
<blockquote>
<div><ul>
<li><em>unit:</em> kiloyears</li>
<li><em>default value:</em> <code class="docutils literal"><span class="pre">-20.</span></code></li>
</ul>
</div></blockquote>
</li>
<li><strong>kyear_stop</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; <p>integration stop time.</p>
<p>As time reference
is present, argument should be <span class="math">\(\le 0\)</span> 
for time before present.</p>
<blockquote>
<div><ul>
<li><em>unit:</em> kiloyears</li>
<li><em>default value:</em> <code class="docutils literal"><span class="pre">0.</span></code></li>
</ul>
</div></blockquote>
</li>
<li><strong>segment_length_years</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; is the length of each integration with
fixed orbital parameters. [default: 100.]</li>
<li><strong>orbital_year_factor</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; is an optional speed-up to the orbital cycles.
[default: 1.]</li>
<li><strong>verbose</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; prints product of calculation and
information about computation progress
[default: True]</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Object attributes</strong></p>
<p>Following object attributes are generated during initialization:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> (<a class="reference internal" href="climlab.process.html#climlab.process.time_dependent_process.TimeDependentProcess" title="climlab.process.time_dependent_process.TimeDependentProcess"><code class="xref py py-class docutils literal"><span class="pre">TimeDependentProcess</span></code></a>) &#8211; timedependent process to be integrated</li>
<li><strong>kyear_start</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; integration start time</li>
<li><strong>kyear_stop</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; integration stop time</li>
<li><strong>segment_length_years</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; length of each integration with
fixed orbital parameters</li>
<li><strong>orbital_year_factor</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; speed-up factor  to the orbital cycles</li>
<li><strong>verbose</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; print flag</li>
<li><strong>num_segments</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; <p>number of segments with fixed oribtal 
parameters, calculated through:</p>
<div class="math">
\[num_{seg} = \frac{-(kyear_{start}-kyear_{stop})*1000}{seg_{length} * orb_{factor}}\]</div>
</li>
<li><strong>T_segments_global</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; storage for global mean temperature
for final year of each segment</li>
<li><strong>T_segments</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; storage for actual temperature at end
of each segment</li>
<li><strong>T_segments_annual</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; <p>storage for timeaveraged temperature 
over last year of segment</p>
<p>dimension: (size(Ts), num_segments)</p>
</li>
<li><strong>orb_kyear</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/array.html#module-array" title="(in Python v2.7)"><em>array</em></a>) &#8211; integration start time of all segments</li>
<li><a class="reference internal" href="climlab.radiation.html#climlab.radiation.insolation.AnnualMeanInsolation.orb" title="climlab.radiation.insolation.AnnualMeanInsolation.orb"><strong>orb</strong></a> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; orbital parameters for last integrated segment</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Integration of an energy balance model for 10,000 years with 
corresponding orbital parameters:</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">climlab.model.ebm</span> <span class="kn">import</span> <span class="n">EBM_seasonal</span>
<span class="kn">from</span> <span class="nn">climlab.solar.orbital_cycles</span> <span class="kn">import</span> <span class="n">OrbitalCycles</span>
<span class="kn">from</span> <span class="nn">climlab.surface.albedo</span> <span class="kn">import</span> <span class="n">StepFunctionAlbedo</span>
<span class="n">ebm</span> <span class="o">=</span> <span class="n">EBM_seasonal</span><span class="p">()</span>
<span class="k">print</span> <span class="n">ebm</span>

<span class="c1">#  add an albedo feedback</span>
<span class="n">albedo</span> <span class="o">=</span> <span class="n">StepFunctionAlbedo</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">ebm</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="o">**</span><span class="n">ebm</span><span class="o">.</span><span class="n">param</span><span class="p">)</span>
<span class="n">ebm</span><span class="o">.</span><span class="n">add_subprocess</span><span class="p">(</span><span class="s1">&#39;albedo&#39;</span><span class="p">,</span> <span class="n">albedo</span><span class="p">)</span>

<span class="c1">#  start the integration</span>
<span class="c1">#  run for 10,000 orbital years, but only 1,000 model years</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="n">OrbitalCycles</span><span class="p">(</span><span class="n">ebm</span><span class="p">,</span> <span class="n">kyear_start</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="n">kyear_stop</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span>                                                         <span class="n">orbital_year_factor</span><span class="o">=</span><span class="mf">10.</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="climlab.surface.html" title="climlab.surface package"
             >next</a> |</li>
        <li class="right" >
          <a href="climlab.radiation.html" title="climlab.radiation package"
             >previous</a> |</li>
        <li><a href="../intro.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="climlab.html" >Application Programming Interface</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016 (licensed under MIT License), Moritz Kreuzer &amp; Brian Rose.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>