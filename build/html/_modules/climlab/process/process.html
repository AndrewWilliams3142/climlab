<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>climlab.process.process &mdash; climlab 0.3.0.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.3.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="climlab 0.3.0.1 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../../index.html"><img src="../../../_static/logo.png" border="0" alt="sampledoc"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../intro.html">home</a>|&nbsp;</li>
        <li><a href="../../../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../../../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/climlab.html">Application Programming Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact.html">Contact</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: navy;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: darkred;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansiblack { color: black; }
.ansired { color: darkred; }
.ansigreen { color: darkgreen; }
.ansiyellow { color: #c4a000; }
.ansiblue { color: darkblue; }
.ansipurple { color: darkviolet; }
.ansicyan { color: steelblue; }
/* See https://github.com/jupyter/nbconvert/issues/174 */
.ansigray { color: gray; }  /* nbconvert CSS */
.ansigrey { color: gray; }  /* nbconvert HTML output */

.ansibgblack { background-color: black; }
.ansibgred { background-color: red; }
.ansibggreen { background-color: green; }
.ansibgyellow { background-color: yellow; }
.ansibgblue { background-color: blue; }
.ansibgpurple { background-color: magenta; }
.ansibgcyan { background-color: cyan; }
.ansibggray { background-color: gray; }

.ansibold { font-weight: bold; }
</style>
<h1>Source code for climlab.process.process</h1><div class="highlight"><pre>
<span></span>
<span class="c1">#==============================================================================</span>
<span class="c1"># Principles of the new `climlab` API design:</span>
<span class="c1"># </span>
<span class="c1">#     * `climlab.Process` object has several iterable dictionaries of named,</span>
<span class="c1">#       gridded variables:</span>
<span class="c1">#       </span>
<span class="c1">#         * `process.state`</span>
<span class="c1">#         </span>
<span class="c1">#             * state variables, usually time-dependent</span>
<span class="c1"># </span>
<span class="c1">#         - `process.input`</span>
<span class="c1">#             - boundary conditions and other gridded quantities independent of the</span>
<span class="c1">#             `process`</span>
<span class="c1">#             - often set by a parent `process`</span>
<span class="c1">#         - `process.param`  (which are basically just scalar `input`)</span>
<span class="c1">#         - `process.tendencies`</span>
<span class="c1">#             - iterable `dict` of time-tendencies (d/dt) for each state variable</span>
<span class="c1">#         - `process.diagnostics`</span>
<span class="c1">#             - any quantity derived from current state</span>
<span class="c1"># - The `process` is fully described by contents of `state`, `input` and `param`</span>
<span class="c1"># dictionaries. `tendencies` and `diagnostics` are always computable from current</span>
<span class="c1"># state.</span>
<span class="c1"># - `climlab` will remain (as much as possible) agnostic about the data formats</span>
<span class="c1">#     - Variables within the dictionaries will behave as `numpy.ndarray` objects</span>
<span class="c1">#     - Grid information and other domain details accessible as attributes</span>
<span class="c1">#     of each variable</span>
<span class="c1">#         - e.g. Tatm.lat</span>
<span class="c1">#         - Shortcuts like `process.lat` will work where these are unambiguous</span>
<span class="c1"># - Many variables will be accessible as process attributes `process.name`</span>
<span class="c1">#     - this restricts to unique field names in the above dictionaries</span>
<span class="c1"># - There may be other dictionaries that do have name conflicts</span>
<span class="c1">#     - e.g. dictionary of tendencies, with same keys as `process.state`</span>
<span class="c1">#     - These will *not* be accessible as `process.name`</span>
<span class="c1">#     - but *will* be accessible as `process.dict_name.name`</span>
<span class="c1">#     (as well as regular dict interface)</span>
<span class="c1"># - There will be a dictionary of named subprocesses `process.subprocess`</span>
<span class="c1"># - Each item in subprocess dict will itself be a `climlab.Process` object</span>
<span class="c1"># - For convenience with interactive work, each subprocess should be accessible</span>
<span class="c1"># as `process.subprocess.name` as well as `process.subprocess[&#39;name&#39;]`</span>
<span class="c1"># - `process.compute()` is a method that computes tendencies (d/dt)</span>
<span class="c1">#     - returns a dictionary of tendencies for all state variables</span>
<span class="c1">#     - keys for this dictionary are same as keys of state dictionary</span>
<span class="c1">#     - tendency dictionary is the total tendency including all subprocesses</span>
<span class="c1">#     - method only computes d/dt, does not apply changes</span>
<span class="c1">#     - thus method is relatively independent of numerical scheme</span>
<span class="c1">#         - may need to make exception for implicit scheme?</span>
<span class="c1">#     - method *will* update variables in `process.diagnostic`</span>
<span class="c1">#         - will also *gather all diagnostics* from `subprocesses`</span>
<span class="c1"># - `process.step_forward()` updates the state variables</span>
<span class="c1">#     - calls `process.compute()` to get current tendencies</span>
<span class="c1">#     - implements a particular time-stepping scheme</span>
<span class="c1">#     - user interface is agnostic about numerical scheme</span>
<span class="c1"># - `process.integrate_years()` etc will automate time-stepping</span>
<span class="c1">#     - also computation of time-average diagnostics.</span>
<span class="c1"># - Every `subprocess` should work independently of its parent `process` given</span>
<span class="c1"># appropriate `input`.</span>
<span class="c1">#     - investigating an individual `process` (possibly with its own</span>
<span class="c1">#     `subprocesses`) isolated from its parent needs to be as simple as doing:</span>
<span class="c1">#         - `newproc = climlab.process_like(procname.subprocess[&#39;subprocname&#39;])`</span>
<span class="c1">#</span>
<span class="c1">#         - `newproc.compute()`</span>
<span class="c1">#         - anything in the `input` dictionary of `subprocname` will remain fixed</span>
<span class="c1">#==============================================================================</span>

<span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">climlab.domain.field</span> <span class="kn">import</span> <span class="n">Field</span>
<span class="kn">from</span> <span class="nn">climlab.domain.domain</span> <span class="kn">import</span> <span class="n">_Domain</span><span class="p">,</span> <span class="n">zonal_mean_surface</span>
<span class="kn">from</span> <span class="nn">climlab.utils</span> <span class="kn">import</span> <span class="n">walk</span><span class="p">,</span> <span class="n">attr_dict</span>


<span class="k">def</span> <span class="nf">_make_dict</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">argtype</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">arg</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">argtype</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">arg</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Problem with input type&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="Process"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process">[docs]</a><span class="k">class</span> <span class="nc">Process</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>    
    <span class="sd">&quot;&quot;&quot;A generic parent class for all climlab process objects.</span>
<span class="sd">    Every process object has a set of state variables on a spatial grid.</span>
<span class="sd">    </span>
<span class="sd">    For more general information about `Processes` and their role in climlab,</span>
<span class="sd">    see :ref:`process_architecture` section climlab-architecture.</span>

<span class="sd">    **Initialization parameters** \n</span>
<span class="sd">        </span>
<span class="sd">    An instance of ``Process`` is initialized with the following </span>
<span class="sd">    arguments *(for detailed information see Object attributes below)*:</span>
<span class="sd">    </span>
<span class="sd">    :param Field state: spatial state variable for the process. </span>
<span class="sd">                        Set to ``None`` if not specified.</span>
<span class="sd">    :param domains:     domain(s) for the process</span>
<span class="sd">    :type domains:      :class:`~climlab.domain.domain._Domain` or dict of </span>
<span class="sd">                        :class:`~climlab.domain.domain._Domain`</span>
<span class="sd">    :param subprocess:  subprocess(es) of the process</span>
<span class="sd">    :type subprocess:   :class:`~climlab.process.process.Process` or dict of </span>
<span class="sd">                        :class:`~climlab.process.process.Process`</span>
<span class="sd">    :param array lat:   latitudinal points [optional]</span>
<span class="sd">    :param lev:         altitudinal points [optional]</span>
<span class="sd">    :param int num_lat: number of latitudional points [optional]    </span>
<span class="sd">    :param int num_levels:</span>
<span class="sd">                        number of altitudinal points [optional]</span>
<span class="sd">    :param dict input:  collection of input quantities</span>
<span class="sd">    </span>
<span class="sd">    **Object attributes** \n</span>
<span class="sd">    </span>
<span class="sd">    Additional to the parent class :class:`~climlab.process.process.Process`</span>
<span class="sd">    following object attributes are generated during initialization:</span>
<span class="sd">    </span>
<span class="sd">    :ivar dict domains:     dictionary of process :class:`~climlab.domain.domain._Domain`</span>
<span class="sd">    :ivar dict state:       dictionary of process states </span>
<span class="sd">                            (of type :class:`~climlab.domain.field.Field`)</span>
<span class="sd">    :ivar dict param:       dictionary of model parameters which are given</span>
<span class="sd">                            through ``**kwargs`` </span>
<span class="sd">    :ivar dict diagnostics: a dictionary with all diagnostic variables</span>
<span class="sd">    :ivar dict _input_vars: collection of input quantities like boundary conditions</span>
<span class="sd">                            and other gridded quantities</span>
<span class="sd">    :ivar str creation_date:</span>
<span class="sd">                            date and time when process was created</span>
<span class="sd">    :ivar subprocess:       dictionary of suprocesses of the process</span>
<span class="sd">    :vartype subprocess:    dict of :class:`~climlab.process.process.Process`    </span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str1</span> <span class="o">=</span> <span class="s1">&#39;climlab Process of type {0}. </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="n">str1</span> <span class="o">+=</span> <span class="s1">&#39;State variables and domain shapes: </span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">str1</span> <span class="o">+=</span> <span class="s1">&#39;  {0}: {1} </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">varname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="n">str1</span> <span class="o">+=</span> <span class="s1">&#39;The subprocess tree: </span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">str1</span> <span class="o">+=</span> <span class="n">walk</span><span class="o">.</span><span class="n">process_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">str1</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">domains</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">subprocess</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">lat</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">lev</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">num_lat</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">num_levels</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="nb">input</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># dictionary of domains. Keys are the domain names</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">domains</span> <span class="o">=</span> <span class="n">_make_dict</span><span class="p">(</span><span class="n">domains</span><span class="p">,</span> <span class="n">_Domain</span><span class="p">)</span>       
        <span class="c1">#  If lat is given, create a simple domains</span>
        <span class="k">if</span> <span class="n">lat</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">sfc</span> <span class="o">=</span> <span class="n">zonal_mean_surface</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">sfc</span><span class="p">})</span>
        <span class="c1"># dictionary of state variables (all of type Field)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">attr_dict</span><span class="o">.</span><span class="n">AttrDict</span><span class="p">()</span>
        <span class="n">states</span> <span class="o">=</span> <span class="n">_make_dict</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">Field</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">states</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># dictionary of model parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="c1"># dictionary of diagnostic quantities</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span> <span class="o">=</span> <span class="n">attr_dict</span><span class="o">.</span><span class="n">AttrDict</span><span class="p">()</span>
        <span class="c1"># dictionary of input quantities</span>
        <span class="c1">#self.input = _make_dict(input, Field)</span>
        <span class="k">if</span> <span class="nb">input</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_vars</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">creation_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%a, </span><span class="si">%d</span><span class="s2"> %b %Y %H:%M:%S %z&quot;</span><span class="p">,</span>
                                           <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="c1"># subprocess is a dictionary of any sub-processes</span>
        <span class="k">if</span> <span class="n">subprocess</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1">#self.subprocess = {}</span>
            <span class="c1"># a dictionary whose items can be accessed as attributes</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subprocess</span> <span class="o">=</span> <span class="n">attr_dict</span><span class="o">.</span><span class="n">AttrDict</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_subprocesses</span><span class="p">(</span><span class="n">subprocess</span><span class="p">)</span>

<div class="viewcode-block" id="Process.add_subprocesses"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.add_subprocesses">[docs]</a>    <span class="k">def</span> <span class="nf">add_subprocesses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">procdict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a dictionary of subproceses to this process.</span>
<span class="sd">        </span>
<span class="sd">        Calls :func:`add_subprocess` for every process given in the </span>
<span class="sd">        input-dictionary. It can also pass a single process, which will </span>
<span class="sd">        be given the name *default*.</span>
<span class="sd">        </span>
<span class="sd">        :param procdict:    a dictionary with process names as keys</span>
<span class="sd">        :type procdict:     dict</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">procdict</span><span class="p">,</span> <span class="n">Process</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_subprocess</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">procdict</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">proc</span> <span class="ow">in</span> <span class="n">procdict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_subprocess</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">proc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Process.add_subprocess"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.add_subprocess">[docs]</a>    <span class="k">def</span> <span class="nf">add_subprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">proc</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a single subprocess to this process.</span>
<span class="sd">        </span>
<span class="sd">        :param string name:     name of the subprocess</span>
<span class="sd">        :param proc:            a Process object</span>
<span class="sd">        :type proc:             :class:`~climlab.process.process.Process`</span>
<span class="sd">        :raises: :exc:`ValueError` </span>
<span class="sd">                                if ``proc`` is not a process</span>
<span class="sd">        </span>
<span class="sd">        :Example:</span>
<span class="sd">        </span>
<span class="sd">            Replacing an albedo subprocess through adding a subprocess with </span>
<span class="sd">            same name::</span>
<span class="sd">            </span>
<span class="sd">                &gt;&gt;&gt; from climlab.model.ebm import EBM_seasonal</span>
<span class="sd">                &gt;&gt;&gt; from climlab.surface.albedo import StepFunctionAlbedo</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # creating EBM model</span>
<span class="sd">                &gt;&gt;&gt; ebm_s = EBM_seasonal()</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; print ebm_s</span>
<span class="sd">                </span>
<span class="sd">            .. code-block:: none</span>
<span class="sd">                :emphasize-lines: 8</span>
<span class="sd">                </span>
<span class="sd">                climlab Process of type &lt;class &#39;climlab.model.ebm.EBM_seasonal&#39;&gt;. </span>
<span class="sd">                State variables and domain shapes: </span>
<span class="sd">                  Ts: (90, 1) </span>
<span class="sd">                The subprocess tree: </span>
<span class="sd">                top: &lt;class &#39;climlab.model.ebm.EBM_seasonal&#39;&gt;</span>
<span class="sd">                   diffusion: &lt;class &#39;climlab.dynamics.diffusion.MeridionalDiffusion&#39;&gt;</span>
<span class="sd">                   LW: &lt;class &#39;climlab.radiation.AplusBT.AplusBT&#39;&gt;</span>
<span class="sd">                   albedo: &lt;class &#39;climlab.surface.albedo.P2Albedo&#39;&gt;</span>
<span class="sd">                   insolation: &lt;class &#39;climlab.radiation.insolation.DailyInsolation&#39;&gt;</span>
<span class="sd">            </span>
<span class="sd">            ::</span>
<span class="sd">            </span>
<span class="sd">                &gt;&gt;&gt; #  creating and adding albedo feedback subprocess</span>
<span class="sd">                &gt;&gt;&gt; step_albedo = StepFunctionAlbedo(state=ebm_s.state, **ebm_s.param)</span>
<span class="sd">                &gt;&gt;&gt; ebm_s.add_subprocess(&#39;albedo&#39;, step_albedo)</span>
<span class="sd">                &gt;&gt;&gt; </span>
<span class="sd">                &gt;&gt;&gt; print ebm_s</span>
<span class="sd">                </span>
<span class="sd">            .. code-block:: none</span>
<span class="sd">                :emphasize-lines: 8</span>
<span class="sd">                </span>
<span class="sd">                climlab Process of type &lt;class &#39;climlab.model.ebm.EBM_seasonal&#39;&gt;. </span>
<span class="sd">                State variables and domain shapes: </span>
<span class="sd">                  Ts: (90, 1) </span>
<span class="sd">                The subprocess tree: </span>
<span class="sd">                top: &lt;class &#39;climlab.model.ebm.EBM_seasonal&#39;&gt;</span>
<span class="sd">                   diffusion: &lt;class &#39;climlab.dynamics.diffusion.MeridionalDiffusion&#39;&gt;</span>
<span class="sd">                   LW: &lt;class &#39;climlab.radiation.AplusBT.AplusBT&#39;&gt;</span>
<span class="sd">                   albedo: &lt;class &#39;climlab.surface.albedo.StepFunctionAlbedo&#39;&gt;</span>
<span class="sd">                      iceline: &lt;class &#39;climlab.surface.albedo.Iceline&#39;&gt;</span>
<span class="sd">                      cold_albedo: &lt;class &#39;climlab.surface.albedo.ConstantAlbedo&#39;&gt;</span>
<span class="sd">                      warm_albedo: &lt;class &#39;climlab.surface.albedo.P2Albedo&#39;&gt;</span>
<span class="sd">                   insolation: &lt;class &#39;climlab.radiation.insolation.DailyInsolation&#39;&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">proc</span><span class="p">,</span> <span class="n">Process</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subprocess</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="n">proc</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_process_type_list</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="c1"># make subprocess available as object attribute</span>
            <span class="c1">#setattr(self, name, proc)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;subprocess must be Process object&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Process.remove_subprocess"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.remove_subprocess">[docs]</a>    <span class="k">def</span> <span class="nf">remove_subprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes a single subprocess from this process.</span>
<span class="sd">        </span>
<span class="sd">        :param string name:     name of the subprocess</span>
<span class="sd">        </span>
<span class="sd">        :Example:</span>
<span class="sd">        </span>
<span class="sd">            Remove albedo subprocess from energy balance model::</span>
<span class="sd">                    </span>
<span class="sd">                &gt;&gt;&gt; import climlab</span>
<span class="sd">                &gt;&gt;&gt; model = climlab.EBM()</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; print model</span>
<span class="sd">                climlab Process of type &lt;class &#39;climlab.model.ebm.EBM&#39;&gt;. </span>
<span class="sd">                State variables and domain shapes: </span>
<span class="sd">                  Ts: (90, 1) </span>
<span class="sd">                The subprocess tree: </span>
<span class="sd">                top: &lt;class &#39;climlab.model.ebm.EBM&#39;&gt;</span>
<span class="sd">                   diffusion: &lt;class &#39;climlab.dynamics.diffusion.MeridionalDiffusion&#39;&gt;</span>
<span class="sd">                   LW: &lt;class &#39;climlab.radiation.AplusBT.AplusBT&#39;&gt;</span>
<span class="sd">                   albedo: &lt;class &#39;climlab.surface.albedo.StepFunctionAlbedo&#39;&gt;</span>
<span class="sd">                      iceline: &lt;class &#39;climlab.surface.albedo.Iceline&#39;&gt;</span>
<span class="sd">                      cold_albedo: &lt;class &#39;climlab.surface.albedo.ConstantAlbedo&#39;&gt;</span>
<span class="sd">                      warm_albedo: &lt;class &#39;climlab.surface.albedo.P2Albedo&#39;&gt;</span>
<span class="sd">                   insolation: &lt;class &#39;climlab.radiation.insolation.P2Insolation&#39;&gt;</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; model.remove_subprocess(&#39;albedo&#39;)</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; print model</span>
<span class="sd">                climlab Process of type &lt;class &#39;climlab.model.ebm.EBM&#39;&gt;. </span>
<span class="sd">                State variables and domain shapes: </span>
<span class="sd">                  Ts: (90, 1) </span>
<span class="sd">                The subprocess tree: </span>
<span class="sd">                top: &lt;class &#39;climlab.model.ebm.EBM&#39;&gt;</span>
<span class="sd">                   diffusion: &lt;class &#39;climlab.dynamics.diffusion.MeridionalDiffusion&#39;&gt;</span>
<span class="sd">                   LW: &lt;class &#39;climlab.radiation.AplusBT.AplusBT&#39;&gt;</span>
<span class="sd">                   insolation: &lt;class &#39;climlab.radiation.insolation.P2Insolation&#39;&gt;</span>
<span class="sd">                </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subprocess</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_process_type_list</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="c1">#  Since we made every subprocess an object attribute, we also remove</span>
        <span class="c1">#delattr(self, name)</span>
</div>
<div class="viewcode-block" id="Process.set_state"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.set_state">[docs]</a>    <span class="k">def</span> <span class="nf">set_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the variable ``name`` to a new state ``value``. </span>
<span class="sd">        </span>
<span class="sd">        :param string name:     name of the state        </span>
<span class="sd">        :param value:           state variable</span>
<span class="sd">        :type value:            :class:`~climlab.domain.field.Field` or *array*       </span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                                if state variable ``value`` is not having a domain.</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                                if shape mismatch between existing domain and </span>
<span class="sd">                                new state variable.</span>
<span class="sd">                        </span>
<span class="sd">        :Example:   </span>
<span class="sd">        </span>
<span class="sd">            Resetting the surface temperature of an EBM to</span>
<span class="sd">            :math:`-5 ^{\circ} \\textrm{C}` on all latitues::</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; import climlab</span>
<span class="sd">                &gt;&gt;&gt; from climlab import Field</span>
<span class="sd">                &gt;&gt;&gt; import numpy as np</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # setup model</span>
<span class="sd">                &gt;&gt;&gt; model = climlab.EBM(num_lat=36)</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # create new temperature distribution</span>
<span class="sd">                &gt;&gt;&gt; initial = -5 * ones(size(model.lat))</span>
<span class="sd">                &gt;&gt;&gt; model.set_state(&#39;Ts&#39;, Field(initial, domain=model.domains[&#39;Ts&#39;]))</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; np.squeeze(model.Ts)</span>
<span class="sd">                Field([-5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5.,</span>
<span class="sd">                       -5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5., -5.,</span>
<span class="sd">                       -5., -5., -5., -5., -5., -5., -5., -5., -5., -5.])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Field</span><span class="p">):</span>
            <span class="c1"># populate domains dictionary with domains from state variables</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">domain</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">thisdom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">domain</span>
                <span class="n">domshape</span> <span class="o">=</span> <span class="n">thisdom</span><span class="o">.</span><span class="n">shape</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;State variable needs a domain.&#39;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">domshape</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="n">thisdom</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Shape mismatch between existing domain and new state variable.&#39;</span><span class="p">)</span>
        <span class="c1"># set the state dictionary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_guess_state_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">dom</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
                    <span class="c1"># same shape, assume it&#39;s the right domain</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">state_domain</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">dom</span>

    <span class="k">def</span> <span class="nf">_set_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_type</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new field to a specified dictionary. The field is also added</span>
<span class="sd">        as a process attribute. field_type can be &#39;input&#39;, &#39;diagnostics&#39; &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__getattribute__</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Problem with field_type </span><span class="si">%s</span><span class="s1">&#39;</span>  <span class="o">%</span><span class="n">field_type</span><span class="p">)</span>
        <span class="c1">#  Note that if process has attribute name, this will trigger The</span>
        <span class="c1"># setter method for that attribute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


   <span class="c1"># def add_diagnostics(self, diaglist):</span>
   <span class="c1">#     &quot;&quot;&quot;Updates the process&#39;s list of diagnostics.</span>
   <span class="c1">#     </span>
   <span class="c1">#     **Function-call argument** \n        </span>
   <span class="c1">#     </span>
   <span class="c1">#     :param diaglist:    list of names of diagnostic variables</span>
   <span class="c1">#     :type diaglist:     list</span>
   <span class="c1">#</span>
   <span class="c1">#     </span>
   <span class="c1">#     **Object attributes** \n</span>
   <span class="c1">#     </span>
   <span class="c1">#     During method execution following object attribute is modified:</span>
   <span class="c1">#     </span>
   <span class="c1">#     :ivar frozenset _diag_vars:     extended by the list ``diaglist`` given as </span>
   <span class="c1">#                                     method argument</span>
   <span class="c1">#                                     </span>
   <span class="c1">#     &quot;&quot;&quot;</span>
   <span class="c1">#     self._diag_vars = frozenset.union(self._diag_vars, diaglist)</span>
    

<div class="viewcode-block" id="Process.init_diagnostic"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.init_diagnostic">[docs]</a>    <span class="k">def</span> <span class="nf">init_diagnostic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Defines a new diagnostic quantity called ``name``</span>
<span class="sd">        and initialize it with the given ``value``.</span>

<span class="sd">        Quantity is accessible and settable in two ways:</span>
<span class="sd">            </span>
<span class="sd">            * as a process attribute, i.e. ``proc.name``</span>
<span class="sd">            * as a member of the diagnostics dictionary, </span>
<span class="sd">              i.e. ``proc.diagnostics[&#39;name&#39;]``</span>
<span class="sd">        </span>
<span class="sd">        :param str name:        name of diagnostic quantity to be initialized</span>
<span class="sd">        :param array value:     initial value for quantity - accepts also type</span>
<span class="sd">                                float, int, etc. (*default*:``0.``)</span>
<span class="sd">        </span>
<span class="sd">        :Example:</span>
<span class="sd">        </span>
<span class="sd">            Add a diagnostic CO2 variable to an energy balance model::</span>
<span class="sd">            </span>
<span class="sd">                &gt;&gt;&gt; import climlab</span>
<span class="sd">                &gt;&gt;&gt; model = climlab.EBM()</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # initialize CO2 variable with value 280 ppm</span>
<span class="sd">                &gt;&gt;&gt; model.init_diagnostic(&#39;CO2&#39;,280)</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # access variable directly or through diagnostic dictionary</span>
<span class="sd">                &gt;&gt;&gt; model.CO2</span>
<span class="sd">                280</span>
<span class="sd">                &gt;&gt;&gt; model.diagnostics.keys()</span>
<span class="sd">                [&#39;ASR&#39;, &#39;CO2&#39;, &#39;net_radiation&#39;, &#39;icelat&#39;, &#39;OLR&#39;, &#39;albedo&#39;]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_diag_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">def</span> <span class="nf">_diag_setter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">name</span><span class="p">,</span>
                <span class="nb">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="n">_diag_getter</span><span class="p">,</span> <span class="n">fset</span><span class="o">=</span><span class="n">_diag_setter</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Process.remove_diagnostic"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.remove_diagnostic">[docs]</a>    <span class="k">def</span> <span class="nf">remove_diagnostic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;	Removes a diagnostic from the ``process.diagnostic`` dictionary</span>
<span class="sd">        and also delete the associated process attribute.</span>
<span class="sd">        </span>
<span class="sd">        :param str name:    name of diagnostic quantity to be removed</span>
<span class="sd">        </span>
<span class="sd">        :Example:</span>
<span class="sd">        </span>
<span class="sd">            Remove diagnostic variable &#39;icelat&#39; from energy balance model::</span>
<span class="sd">                    </span>
<span class="sd">                &gt;&gt;&gt; import climlab</span>
<span class="sd">                &gt;&gt;&gt; model = climlab.EBM()</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # display all diagnostic variables</span>
<span class="sd">                &gt;&gt;&gt; model.diagnostics.keys()</span>
<span class="sd">                [&#39;ASR&#39;, &#39;OLR&#39;, &#39;net_radiation&#39;, &#39;albedo&#39;, &#39;icelat&#39;]</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; model.remove_diagnostic(&#39;icelat&#39;)</span>
<span class="sd">                &gt;&gt;&gt; model.diagnostics.keys()</span>
<span class="sd">                [&#39;ASR&#39;, &#39;OLR&#39;, &#39;net_radiation&#39;, &#39;albedo&#39;]</span>
<span class="sd">                </span>
<span class="sd">                &gt;&gt;&gt; # Watch out for subprocesses that may still want </span>
<span class="sd">                &gt;&gt;&gt;  # to access the diagnostic &#39;icelat&#39; variable !!!</span>
<span class="sd">                        </span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="nb">delattr</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Process.add_input"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.Process.add_input">[docs]</a>    <span class="k">def</span> <span class="nf">add_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputlist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Updates the process&#39;s list of inputs.</span>
<span class="sd">        </span>
<span class="sd">        :param list inputlist:   list of names of input variables</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_vars</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_input_vars</span><span class="p">,</span> <span class="n">inputlist</span><span class="p">)</span>

   <span class="c1"># @property</span>
   <span class="c1"># def diagnostics(self):</span>
   <span class="c1">#     &quot;&quot;&quot;dictionary with all diagnostic variables</span>
   <span class="c1">#     </span>
   <span class="c1">#     :getter:    Returns the content of ``self._diag_vars``.</span>
   <span class="c1">#     :type:      dict</span>
   <span class="c1">#     </span>
   <span class="c1">#     &quot;&quot;&quot;</span>
   <span class="c1">#     return { key:value for key, value in self.__dict__.items()</span>
   <span class="c1">#              if key in self._diag_vars }</span></div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;dictionary with all input variables</span>
<span class="sd">        </span>
<span class="sd">        That can be boundary conditions and other gridded quantities </span>
<span class="sd">        independent of the `process`</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the content of ``self._input_vars``.</span>
<span class="sd">        :type:      dict</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span> <span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                 <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_vars</span> <span class="p">}</span>

    <span class="c1"># Some handy shortcuts... only really make sense when there is only</span>
    <span class="c1"># a single axis of that type in the process.</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of latitudinal points of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the points of axis ``&#39;lat&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lat&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislat</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">points</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislat</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lat axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lat_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of latitudinal bounds of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the bounds of axis ``&#39;lat&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lat&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislat</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bounds</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislat</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lat axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of longitudinal points of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the points of axis ``&#39;lon&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lon&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislon</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">points</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislon</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lon axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lon_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of longitudinal bounds of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the bounds of axis ``&#39;lon&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lon&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislon</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bounds</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislon</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lon axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of altitudinal points of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the points of axis ``&#39;lev&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lev&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislev</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lev&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">points</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislev</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lev axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lev_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of altitudinal bounds of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the bounds of axis ``&#39;lev&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;lev&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thislev</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lev&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bounds</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thislev</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a lev axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">depth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of depth points of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the points of axis ``&#39;depth&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;depth&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thisdepth</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">points</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thisdepth</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a depth axis.&#39;</span><span class="p">)</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">depth_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property of depth bounds of the process.</span>
<span class="sd">        </span>
<span class="sd">        :getter:    Returns the bounds of axis ``&#39;depth&#39;`` if availible in the</span>
<span class="sd">                    process&#39;s domains.</span>
<span class="sd">        :type:      array</span>
<span class="sd">        :raises: :exc:`ValueError`</span>
<span class="sd">                    if no ``&#39;depth&#39;`` axis can be found.        </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">domname</span><span class="p">,</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domains</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thisdepth</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bounds</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">thisdepth</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Can</span><span class="se">\&#39;</span><span class="s1">t resolve a depth axis.&#39;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="process_like"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.process_like">[docs]</a><span class="k">def</span> <span class="nf">process_like</span><span class="p">(</span><span class="n">proc</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Copys the given process.</span>
<span class="sd">    </span>
<span class="sd">    The creation date is updated.    </span>
<span class="sd">    </span>
<span class="sd">    :param proc:    process</span>
<span class="sd">    :type proc:     :class:`~climlab.process.process.Process`</span>
<span class="sd">    :return:        new process identical to the given process</span>
<span class="sd">    :rtype:         :class:`~climlab.process.process.Process`</span>

<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>

<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; from climlab.process.process import process_like</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; model = climlab.EBM()</span>
<span class="sd">            &gt;&gt;&gt; model.subprocess.keys()</span>
<span class="sd">            [&#39;diffusion&#39;, &#39;LW&#39;, &#39;albedo&#39;, &#39;insolation&#39;]</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; albedo = model.subprocess[&#39;albedo&#39;]</span>
<span class="sd">            &gt;&gt;&gt; albedo_copy = process_like(albedo)</span>
<span class="sd">             </span>
<span class="sd">            &gt;&gt;&gt; albedo.creation_date</span>
<span class="sd">            &#39;Thu, 24 Mar 2016 01:32:25 +0000&#39;</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; albedo_copy.creation_date</span>
<span class="sd">            &#39;Thu, 24 Mar 2016 01:33:29 +0000&#39;              </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">newproc</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
    <span class="n">newproc</span><span class="o">.</span><span class="n">creation_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%a, </span><span class="si">%d</span><span class="s2"> %b %Y %H:%M:%S %z&quot;</span><span class="p">,</span>
                                          <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">newproc</span>

</div>
<div class="viewcode-block" id="get_axes"><a class="viewcode-back" href="../../../api/climlab.process.html#climlab.process.process.get_axes">[docs]</a><span class="k">def</span> <span class="nf">get_axes</span><span class="p">(</span><span class="n">process_or_domain</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a dictionary of all Axis in a domain or dictionary of domains.</span>
<span class="sd">    </span>
<span class="sd">    :param process_or_domain:   a process or a domain object</span>
<span class="sd">    :type process_or_domain:    :class:`~climlab.process.process.Process` or </span>
<span class="sd">                                :class:`~climlab.domain.domain._Domain`</span>
<span class="sd">    :raises: :exc:              `TypeError` if input is not or not having a domain</span>
<span class="sd">    :returns:                   dictionary of input&#39;s Axis</span>
<span class="sd">    :rtype:                     dict</span>
<span class="sd">       </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; from climlab.process.process import get_axes</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; model = climlab.EBM()</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; get_axes(model)</span>
<span class="sd">            {&#39;lat&#39;: &lt;climlab.domain.axis.Axis object at 0x7ff13b9dd2d0&gt;,</span>
<span class="sd">             &#39;depth&#39;: &lt;climlab.domain.axis.Axis object at 0x7ff13b9dd310&gt;}</span>
<span class="sd">     </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">process_or_domain</span><span class="p">,</span> <span class="n">Process</span><span class="p">):</span>
        <span class="n">dom</span> <span class="o">=</span> <span class="n">process_or_domain</span><span class="o">.</span><span class="n">domains</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dom</span> <span class="o">=</span> <span class="n">process_or_domain</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">_Domain</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">dom</span><span class="o">.</span><span class="n">axes</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">thisdom</span> <span class="ow">in</span> <span class="n">dom</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thisdom</span><span class="p">,</span> <span class="n">_Domain</span><span class="p">)</span>
            <span class="n">axes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">thisdom</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">axes</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;dom must be a domain or dictionary of domains.&#39;</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../intro.html">home</a>|&nbsp;</li>
        <li><a href="../../../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../../../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016 (licensed under Creative Commons, see License), Moritz Kreuzer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>