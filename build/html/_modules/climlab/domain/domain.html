<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>climlab.domain.domain &mdash; climlab 0.3.2 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="climlab 0.3.2 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../../index.html"><img src="../../../_static/logo.png" border="0" alt="sampledoc"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../intro.html">home</a>|&nbsp;</li>
        <li><a href="../../../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../../../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/climlab.html">Application Programming Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact.html">Contact</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: navy;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: darkred;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansiblack { color: black; }
.ansired { color: darkred; }
.ansigreen { color: darkgreen; }
.ansiyellow { color: #c4a000; }
.ansiblue { color: darkblue; }
.ansipurple { color: darkviolet; }
.ansicyan { color: steelblue; }
/* See https://github.com/jupyter/nbconvert/issues/174 */
.ansigray { color: gray; }  /* nbconvert CSS */
.ansigrey { color: gray; }  /* nbconvert HTML output */

.ansibgblack { background-color: black; }
.ansibgred { background-color: red; }
.ansibggreen { background-color: green; }
.ansibgyellow { background-color: yellow; }
.ansibgblue { background-color: blue; }
.ansibgpurple { background-color: magenta; }
.ansibgcyan { background-color: cyan; }
.ansibggray { background-color: gray; }

.ansibold { font-weight: bold; }
</style>
<h1>Source code for climlab.domain.domain</h1><div class="highlight"><pre>
<span></span><span class="c1">#  new domain class</span>
<span class="c1">#  every process should exist in the context of a domain</span>

<span class="kn">from</span> <span class="nn">climlab.domain.axis</span> <span class="kn">import</span> <span class="n">Axis</span>
<span class="kn">from</span> <span class="nn">climlab.utils</span> <span class="kn">import</span> <span class="n">heat_capacity</span>


<div class="viewcode-block" id="_Domain"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain._Domain">[docs]</a><span class="k">class</span> <span class="nc">_Domain</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Private parent class for `Domains`.</span>

<span class="sd">    A `Domain` defines an area or spatial base for a climlab </span>
<span class="sd">    :class:`~climlab.process.process.Process` object. It consists of axes which</span>
<span class="sd">    are :class:`~climlab.domain.axis.Axis` objects that define the dimensions </span>
<span class="sd">    of the `Domain`.</span>

<span class="sd">    In a `Domain` the heat capacity of grid points, bounds or cells/boxes is </span>
<span class="sd">    specified.</span>
<span class="sd">    </span>
<span class="sd">    There are daughter classes :class:`~climlab.domain.domain.Atmosphere` and</span>
<span class="sd">    :class:`~climlab.domain.domain.Ocean` of the private </span>
<span class="sd">    :class:`~climlab.domain.domain._Domain` class implemented which themselves </span>
<span class="sd">    have daughter classes :class:`~climlab.domain.domain.SlabAtmosphere` and </span>
<span class="sd">    :class:`~climlab.domain.domain.SlabOcean`.</span>
<span class="sd">    </span>
<span class="sd">    Several methods are implemented that create `Domains` with special </span>
<span class="sd">    specifications. These are</span>

<span class="sd">	- :func:`~climlab.domain.domain.single_column`</span>

<span class="sd">	- :func:`~climlab.domain.domain.zonal_mean_column`</span>

<span class="sd">	- :func:`~climlab.domain.domain.box_model_domain`</span>

<span class="sd">    </span>
<span class="sd">    **Initialization parameters** \n</span>
<span class="sd">        </span>
<span class="sd">    An instance of ``_Domain`` is initialized with the following </span>
<span class="sd">    arguments:</span>
<span class="sd">    </span>
<span class="sd">    :param axes:    Axis object or dictionary of Axis object where domain will</span>
<span class="sd">                    be defined on.</span>
<span class="sd">    :type axes:     dict or :class:`~climlab.domain.axis.Axis`</span>
<span class="sd">    </span>
<span class="sd">    </span>
<span class="sd">    **Object attributes** \n</span>
<span class="sd">    </span>
<span class="sd">    Following object attributes are generated during initialization:</span>
<span class="sd">        </span>
<span class="sd">    :ivar str domain_type:      Set to ``&#39;undefined&#39;``.</span>
<span class="sd">    :ivar dict axes:            A dictionary of the domains axes. Created by</span>
<span class="sd">                                :func:`_make_axes_dict` called with input </span>
<span class="sd">                                argument ``axes``</span>
<span class="sd">    :ivar int numdims:          Number of :class:`~climlab.domain.axis.Axis` objects</span>
<span class="sd">                                in ``self.axes`` dictionary.</span>
<span class="sd">    :ivar dict ax_index:        A dictionary of domain axes and their corresponding index</span>
<span class="sd">                                in an ordered list of the axes with:        \n</span>
<span class="sd">                                - ``&#39;lev&#39;`` or ``&#39;depth&#39;`` is last</span>
<span class="sd">                                - ``&#39;lat&#39;`` is second last</span>
<span class="sd">    :ivar tuple shape:          Number of points of all domain axes. Order in </span>
<span class="sd">                                tuple given by ``self.ax_index``.</span>
<span class="sd">    :ivar array heat_capacity:  the domain&#39;s heat capacity over axis specified </span>
<span class="sd">                                in function call of :func:`set_heat_capacity`</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;climlab Domain object with domain_type=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">+</span> <span class="s2">&quot; and shape=&quot;</span> <span class="o">+</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">=</span> <span class="s1">&#39;undefined&#39;</span>
        <span class="c1"># self.axes should be a dictionary of axes</span>
        <span class="c1"># make it possible to give just a single axis:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_axes_dict</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numdims</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">shape</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">axcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">axindex</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1">#  ordered list of axes</span>
        <span class="c1">#  lev OR depth is last</span>
        <span class="c1">#  lat is second-last</span>
        <span class="n">add_lev</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">add_depth</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">add_lat</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">axlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;lev&#39;</span> <span class="ow">in</span> <span class="n">axlist</span><span class="p">:</span>
            <span class="n">axlist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;lev&#39;</span><span class="p">)</span>
            <span class="n">add_lev</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="s1">&#39;depth&#39;</span> <span class="ow">in</span> <span class="n">axlist</span><span class="p">:</span>
            <span class="n">axlist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span>
            <span class="n">add_depth</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="s1">&#39;lat&#39;</span> <span class="ow">in</span> <span class="n">axlist</span><span class="p">:</span>
            <span class="n">axlist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;lat&#39;</span><span class="p">)</span>
            <span class="n">add_lat</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">axlist2</span> <span class="o">=</span> <span class="n">axlist</span><span class="p">[:]</span>
        <span class="k">if</span> <span class="n">add_lat</span><span class="p">:</span>
            <span class="n">axlist2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;lat&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">add_depth</span><span class="p">:</span>
            <span class="n">axlist2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">add_lev</span><span class="p">:</span>
            <span class="n">axlist2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;lev&#39;</span><span class="p">)</span>
        <span class="c1">#for axType, ax in self.axes.iteritems():        </span>
        <span class="k">for</span> <span class="n">axType</span> <span class="ow">in</span> <span class="n">axlist2</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">axType</span><span class="p">]</span>
            <span class="n">shape</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">num_points</span><span class="p">)</span>
            <span class="c1">#  can access axes as object attributes</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axType</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
            <span class="c1">#</span>
            <span class="n">axindex</span><span class="p">[</span><span class="n">axType</span><span class="p">]</span> <span class="o">=</span> <span class="n">axcount</span>
            <span class="n">axcount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_index</span> <span class="o">=</span> <span class="n">axindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_heat_capacity</span><span class="p">()</span>

<div class="viewcode-block" id="_Domain.set_heat_capacity"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain._Domain.set_heat_capacity">[docs]</a>    <span class="k">def</span> <span class="nf">set_heat_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A dummy function to set the heat capacity of a domain.</span>
<span class="sd">        </span>
<span class="sd">        *Should be overridden by daugter classes.*</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span> <span class="o">=</span> <span class="bp">None</span></div>
        <span class="c1">#  implemented by daughter classes</span>
    
<div class="viewcode-block" id="_Domain._make_axes_dict"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain._Domain._make_axes_dict">[docs]</a>    <span class="k">def</span> <span class="nf">_make_axes_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes an axes dictionary.</span>
<span class="sd">        </span>
<span class="sd">        .. note:: </span>
<span class="sd">        </span>
<span class="sd">            In case the input is ``None``, the dictionary :code:`{&#39;empty&#39;: None}`</span>
<span class="sd">            is returned.</span>
<span class="sd">        </span>
<span class="sd">        **Function-call argument** \n        </span>
<span class="sd">        </span>
<span class="sd">        :param axes:    axes input </span>
<span class="sd">        :type axes:     dict or single instance of </span>
<span class="sd">                        :class:`~climlab.domain.axis.Axis` object or ``None``</span>
<span class="sd">        :raises: :exc:`ValueError`  if input is not an instance of Axis class </span>
<span class="sd">                                    or a dictionary of Axis objetcs</span>
<span class="sd">        :returns: dictionary of input axes</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">:</span>
            <span class="n">axdict</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Axis</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span>
            <span class="n">axdict</span> <span class="o">=</span> <span class="p">{</span><span class="n">ax</span><span class="o">.</span><span class="n">axis_type</span><span class="p">:</span> <span class="n">ax</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">axes</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">axdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;empty&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;axes needs to be Axis object or dictionary of Axis object&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">axdict</span></div></div>



<div class="viewcode-block" id="Atmosphere"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.Atmosphere">[docs]</a><span class="k">class</span> <span class="nc">Atmosphere</span><span class="p">(</span><span class="n">_Domain</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for the implementation of an Atmosphere Domain.</span>
<span class="sd">    </span>
<span class="sd">    **Object attributes** \n</span>
<span class="sd">    </span>
<span class="sd">    Additional to the parent class :class:`~climlab.domain.domain._Domain`</span>
<span class="sd">    the following object attribute is modified during initialization:</span>
<span class="sd">        </span>
<span class="sd">    :ivar str domain_type:    is set to ``&#39;atm&#39;``</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        Setting up an Atmosphere Domain::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; atm_ax = climlab.domain.Axis(axis_type=&#39;pressure&#39;, num_points=10)</span>
<span class="sd">            &gt;&gt;&gt; atm_domain = climlab.domain.Atmosphere(axes=atm_ax)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print atm_domain</span>
<span class="sd">            climlab Domain object with domain_type=atm and shape=(10,)</span>

<span class="sd">            &gt;&gt;&gt; atm_domain.axes</span>
<span class="sd">            {&#39;lev&#39;: &lt;climlab.domain.axis.Axis object at 0x7fe5b8ef8e10&gt;}</span>

<span class="sd">            &gt;&gt;&gt; atm_domain.heat_capacity</span>
<span class="sd">            array([ 1024489.79591837,  1024489.79591837,  1024489.79591837,</span>
<span class="sd">                    1024489.79591837,  1024489.79591837,  1024489.79591837,</span>
<span class="sd">                    1024489.79591837,  1024489.79591837,  1024489.79591837,</span>
<span class="sd">                    1024489.79591837])</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Atmosphere</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">=</span> <span class="s1">&#39;atm&#39;</span>

<div class="viewcode-block" id="Atmosphere.set_heat_capacity"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.Atmosphere.set_heat_capacity">[docs]</a>    <span class="k">def</span> <span class="nf">set_heat_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the heat capacity of the Atmosphere Domain.</span>
<span class="sd">        </span>
<span class="sd">        Calls the utils heat capacity function </span>
<span class="sd">        :func:`~climlab.utils.heat_capacity.atmosphere` and gives the delta </span>
<span class="sd">        array of grid points of it&#39;s level axis</span>
<span class="sd">        ``self.axes[&#39;lev&#39;].delta`` as input.</span>
<span class="sd">        </span>
<span class="sd">        **Object attributes** \n</span>
<span class="sd">        </span>
<span class="sd">        During method execution following object attribute is modified:</span>
<span class="sd">        </span>
<span class="sd">        :ivar array heat_capacity:  the ocean domain&#39;s heat capacity over </span>
<span class="sd">                                    the ``&#39;lev&#39;`` Axis.</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span> <span class="o">=</span> <span class="n">heat_capacity</span><span class="o">.</span><span class="n">atmosphere</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;lev&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Ocean"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.Ocean">[docs]</a><span class="k">class</span> <span class="nc">Ocean</span><span class="p">(</span><span class="n">_Domain</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for the implementation of an Ocean Domain.</span>
<span class="sd">    </span>
<span class="sd">    **Object attributes** \n</span>
<span class="sd">    </span>
<span class="sd">    Additional to the parent class :class:`~climlab.domain.domain._Domain`</span>
<span class="sd">    the following object attribute is modified during initialization:</span>
<span class="sd">        </span>
<span class="sd">    :ivar str domain_type:    is set to ``&#39;ocean&#39;``</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        Setting up an Ocean Domain::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; ocean_ax = climlab.domain.Axis(axis_type=&#39;depth&#39;, num_points=5)</span>
<span class="sd">            &gt;&gt;&gt; ocean_domain = climlab.domain.Ocean(axes=ocean_ax)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print ocean_domain</span>
<span class="sd">            climlab Domain object with domain_type=ocean and shape=(5,)</span>

<span class="sd">            &gt;&gt;&gt; ocean_domain.axes</span>
<span class="sd">            {&#39;depth&#39;: &lt;climlab.domain.axis.Axis object at 0x7fe5b8f102d0&gt;}</span>

<span class="sd">            &gt;&gt;&gt; ocean_domain.heat_capacity</span>
<span class="sd">            array([ 8362600.,  8362600.,  8362600.,  8362600.,  8362600.])</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Ocean</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">=</span> <span class="s1">&#39;ocean&#39;</span>

<div class="viewcode-block" id="Ocean.set_heat_capacity"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.Ocean.set_heat_capacity">[docs]</a>    <span class="k">def</span> <span class="nf">set_heat_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the heat capacity of the Ocean Domain.</span>
<span class="sd">        </span>
<span class="sd">        Calls the utils heat capacity function </span>
<span class="sd">        :func:`~climlab.utils.heat_capacity.ocean` and gives the delta </span>
<span class="sd">        array of grid points of it&#39;s depth axis</span>
<span class="sd">        ``self.axes[&#39;depth&#39;].delta`` as input.</span>
<span class="sd">        </span>
<span class="sd">        **Object attributes** \n</span>
<span class="sd">        </span>
<span class="sd">        During method execution following object attribute is modified:</span>
<span class="sd">        </span>
<span class="sd">        :ivar array heat_capacity:  the ocean domain&#39;s heat capacity over </span>
<span class="sd">                                    the ``&#39;depth&#39;`` Axis.</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span> <span class="o">=</span> <span class="n">heat_capacity</span><span class="o">.</span><span class="n">ocean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="make_slabocean_axis"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.make_slabocean_axis">[docs]</a><span class="k">def</span> <span class="nf">make_slabocean_axis</span><span class="p">(</span><span class="n">num_points</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience method to create a simple axis for a slab ocean.</span>

<span class="sd">    **Function-call argument** \n        </span>
<span class="sd">    </span>
<span class="sd">    :param int num_points:    number of points for the slabocean Axis [default: 1]</span>
<span class="sd">    :returns:               an Axis with ``axis_type=&#39;depth&#39;`` and ``num_points=num_points``</span>
<span class="sd">    :rtype:                 :class:`~climlab.domain.axis.Axis`</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>

<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; slab_ocean_axis = climlab.domain.make_slabocean_axis()</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print slab_ocean_axis</span>
<span class="sd">            Axis of type depth with 1 points.</span>

<span class="sd">            &gt;&gt;&gt; slab_ocean_axis.axis_type</span>
<span class="sd">            &#39;depth&#39;</span>

<span class="sd">            &gt;&gt;&gt; slab_ocean_axis.bounds</span>
<span class="sd">            array([  0.,  10.])</span>

<span class="sd">            &gt;&gt;&gt; slab_ocean_axis.units</span>
<span class="sd">            &#39;meters&#39;                 </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">depthax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_points</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">depthax</span></div>

<div class="viewcode-block" id="make_slabatm_axis"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.make_slabatm_axis">[docs]</a><span class="k">def</span> <span class="nf">make_slabatm_axis</span><span class="p">(</span><span class="n">num_points</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience method to create a simple axis for a slab atmosphere.</span>
<span class="sd">    </span>
<span class="sd">    **Function-call argument** \n        </span>
<span class="sd">    </span>
<span class="sd">    :param int num_points:   number of points for the slabatmosphere Axis [default: 1]</span>
<span class="sd">    :returns:               an Axis with ``axis_type=&#39;lev&#39;`` and ``num_points=num_points``</span>
<span class="sd">    :rtype:                 :class:`~climlab.domain.axis.Axis`</span>

<span class="sd">    :Example:</span>

<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; slab_atm_axis = climlab.domain.make_slabatm_axis()</span>

<span class="sd">            &gt;&gt;&gt; print slab_atm_axis</span>
<span class="sd">            Axis of type lev with 1 points.</span>

<span class="sd">            &gt;&gt;&gt; slab_atm_axis.axis_type</span>
<span class="sd">            &#39;lev&#39;</span>

<span class="sd">            &gt;&gt;&gt; slab_atm_axis.bounds</span>
<span class="sd">            array([    0.,  1000.])</span>

<span class="sd">            &gt;&gt;&gt; slab_atm_axis.units</span>
<span class="sd">            &#39;mb&#39;     </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">depthax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lev&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_points</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">depthax</span></div>



<div class="viewcode-block" id="SlabOcean"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.SlabOcean">[docs]</a><span class="k">class</span> <span class="nc">SlabOcean</span><span class="p">(</span><span class="n">Ocean</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class to create a SlabOcean Domain by default.</span>
<span class="sd">    </span>
<span class="sd">    Initializes the parent :class:`Ocean` class with a simple axis for a</span>
<span class="sd">    Slab Ocean created by :func:`make_slabocean_axis` which has just 1 cell </span>
<span class="sd">    in depth by default.</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        Creating a SlabOcean Domain::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; slab_ocean_domain = climlab.domain.SlabOcean()</span>

<span class="sd">            &gt;&gt;&gt; print slab_ocean_domain</span>
<span class="sd">            climlab Domain object with domain_type=ocean and shape=(1,)</span>

<span class="sd">            &gt;&gt;&gt; slab_ocean_domain.axes</span>
<span class="sd">            {&#39;depth&#39;: &lt;climlab.domain.axis.Axis object at 0x7fe5c42814d0&gt;}</span>

<span class="sd">            &gt;&gt;&gt; slab_ocean_domain.heat_capacity</span>
<span class="sd">            array([ 41813000.])    </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">make_slabocean_axis</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SlabOcean</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="SlabAtmosphere"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.SlabAtmosphere">[docs]</a><span class="k">class</span> <span class="nc">SlabAtmosphere</span><span class="p">(</span><span class="n">Atmosphere</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class to create a SlabAtmosphere Domain by default.</span>
<span class="sd">    </span>
<span class="sd">    Initializes the parent :class:`Atmosphere` class with a simple axis for a</span>
<span class="sd">    Slab Atmopshere created by :func:`make_slabatm_axis` which has just 1 cell </span>
<span class="sd">    in height by default.</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        Creating a SlabAtmosphere Domain::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; import climlab</span>
<span class="sd">            &gt;&gt;&gt; slab_atm_domain = climlab.domain.SlabAtmosphere()</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print slab_atm_domain</span>
<span class="sd">            climlab Domain object with domain_type=atm and shape=(1,)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; slab_atm_domain.axes</span>
<span class="sd">            {&#39;lev&#39;: &lt;climlab.domain.axis.Axis object at 0x7fe5c4281610&gt;}</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; slab_atm_domain.heat_capacity</span>
<span class="sd">            array([ 10244897.95918367])</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">make_slabatm_axis</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SlabAtmosphere</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="single_column"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.single_column">[docs]</a><span class="k">def</span> <span class="nf">single_column</span><span class="p">(</span><span class="n">num_lev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">water_depth</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">lev</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates domains for a single column of atmosphere overlying a slab of water.</span>
<span class="sd">    </span>
<span class="sd">    Can also pass a pressure array or pressure level axis object specified in ``lev``.</span>
<span class="sd">    </span>
<span class="sd">    If argument ``lev`` is not ``None`` then function tries to build a level axis</span>
<span class="sd">    and ``num_lev`` is ignored.    </span>
<span class="sd">    </span>
<span class="sd">    **Function-call argument** \n        </span>
<span class="sd">    </span>
<span class="sd">    :param int num_lev:         number of pressure levels</span>
<span class="sd">                                (evenly spaced from surface to TOA) [default: 30]</span>
<span class="sd">    :param float water_depth:   depth of the ocean slab [default: 1.]</span>
<span class="sd">    :param lev:                 specification for height axis (optional)</span>
<span class="sd">    :type lev:                  :class:`~climlab.domain.axis.Axis` or pressure array</span>
<span class="sd">    :raises: :exc:`ValueError`  if `lev` is given but neither Axis </span>
<span class="sd">                                nor pressure array.</span>
<span class="sd">    :returns:                   a list of 2 Domain objects (slab ocean, atmosphere)</span>
<span class="sd">    :rtype:                     :py:class:`list` of :class:`SlabOcean`, :class:`SlabAtmosphere`</span>

<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; from climlab import domain</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; sfc, atm = domain.single_column(num_lev=2, water_depth=10.)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print sfc</span>
<span class="sd">            climlab Domain object with domain_type=ocean and shape=(1,)</span>

<span class="sd">            &gt;&gt;&gt; print atm</span>
<span class="sd">            climlab Domain object with domain_type=atm and shape=(2,)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lev</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">levax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lev&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_lev</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lev</span><span class="p">,</span> <span class="n">Axis</span><span class="p">):</span>
        <span class="n">levax</span> <span class="o">=</span> <span class="n">lev</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">levax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lev&#39;</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="n">lev</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;lev must be Axis object or pressure array&#39;</span><span class="p">)</span>
    <span class="n">depthax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="n">water_depth</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span>
    <span class="n">slab</span> <span class="o">=</span> <span class="n">SlabOcean</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">depthax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">levax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">slab</span><span class="p">,</span> <span class="n">atm</span></div>


<div class="viewcode-block" id="zonal_mean_surface"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.zonal_mean_surface">[docs]</a><span class="k">def</span> <span class="nf">zonal_mean_surface</span><span class="p">(</span><span class="n">num_lat</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">water_depth</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Domain with one water cell and a latitude axis above.</span>
<span class="sd">    </span>
<span class="sd">    Domain has a single heat capacity according to the specified water depth.</span>
<span class="sd">    </span>
<span class="sd">    **Function-call argument** \n        </span>
<span class="sd">    </span>
<span class="sd">    :param int num_lat:         number of latitude points on the axis</span>
<span class="sd">                                [default: 90]</span>
<span class="sd">    :param float water_depth:   depth of the water cell (slab ocean) [default: 10.]</span>
<span class="sd">    :param lat:                 specification for latitude axis (optional)</span>
<span class="sd">    :type lat:                  :class:`~climlab.domain.axis.Axis` or latitude array</span>
<span class="sd">    :raises: :exc:`ValueError`  if `lat` is given but neither Axis nor latitude array.</span>
<span class="sd">    :returns:                   surface domain</span>
<span class="sd">    :rtype:                     :class:`SlabOcean`</span>

<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; from climlab import domain</span>
<span class="sd">            &gt;&gt;&gt; sfc = domain.zonal_mean_surface(num_lat=36)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print sfc</span>
<span class="sd">            climlab Domain object with domain_type=ocean and shape=(36, 1)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lat</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">latax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_lat</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">Axis</span><span class="p">):</span>
        <span class="n">latax</span> <span class="o">=</span> <span class="n">lat</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">latax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="n">lat</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;lat must be Axis object or latitude array&#39;</span><span class="p">)</span>
    <span class="n">depthax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="n">water_depth</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;depth&#39;</span><span class="p">:</span> <span class="n">depthax</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="n">latax</span><span class="p">}</span>
    <span class="n">slab</span> <span class="o">=</span> <span class="n">SlabOcean</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">slab</span></div>

<div class="viewcode-block" id="zonal_mean_column"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.zonal_mean_column">[docs]</a><span class="k">def</span> <span class="nf">zonal_mean_column</span><span class="p">(</span><span class="n">num_lat</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">num_lev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">water_depth</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> 
                      <span class="n">lev</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates two Domains with one water cell, a latitude axis and </span>
<span class="sd">    a level/height axis.</span>
<span class="sd">    </span>
<span class="sd">        * SlabOcean:    one water cell and a latitude axis above </span>
<span class="sd">          (similar to :func:`zonal_mean_surface`)</span>
<span class="sd">        * Atmosphere: a latitude axis and a level/height axis (two dimensional)</span>
<span class="sd">        </span>
<span class="sd">    </span>
<span class="sd">    **Function-call argument** \n        </span>
<span class="sd">    </span>
<span class="sd">    :param int num_lat:         number of latitude points on the axis</span>
<span class="sd">                                [default: 90]</span>
<span class="sd">    :param int num_lev:         number of pressure levels</span>
<span class="sd">                                (evenly spaced from surface to TOA) [default: 30]</span>
<span class="sd">    :param float water_depth:   depth of the water cell (slab ocean) [default: 10.]</span>
<span class="sd">    :param lat:                 specification for latitude axis (optional)</span>
<span class="sd">    :type lat:                  :class:`~climlab.domain.axis.Axis` or latitude array</span>
<span class="sd">    :param lev:                 specification for height axis (optional)</span>
<span class="sd">    :type lev:                  :class:`~climlab.domain.axis.Axis` or pressure array</span>
<span class="sd">    :raises: :exc:`ValueError`  if `lat` is given but neither Axis nor latitude array.</span>
<span class="sd">    :raises: :exc:`ValueError`  if `lev` is given but neither Axis nor pressure array.</span>
<span class="sd">    :returns:                   a list of 2 Domain objects (slab ocean, atmosphere)</span>
<span class="sd">    :rtype:                     :py:class:`list` of :class:`SlabOcean`, :class:`Atmosphere`</span>

<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; from climlab import domain</span>
<span class="sd">            &gt;&gt;&gt; sfc, atm = domain.zonal_mean_column(num_lat=36,num_lev=10)</span>

<span class="sd">            &gt;&gt;&gt; print sfc</span>
<span class="sd">            climlab Domain object with domain_type=ocean and shape=(36, 1)</span>

<span class="sd">            &gt;&gt;&gt; print atm</span>
<span class="sd">            climlab Domain object with domain_type=atm and shape=(36, 10)</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lat</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">latax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_lat</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">Axis</span><span class="p">):</span>
        <span class="n">latax</span> <span class="o">=</span> <span class="n">lat</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">latax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="n">lat</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;lat must be Axis object or latitude array&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lev</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">levax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lev&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_lev</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lev</span><span class="p">,</span> <span class="n">Axis</span><span class="p">):</span>
        <span class="n">levax</span> <span class="o">=</span> <span class="n">lev</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">levax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;lev&#39;</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="n">lev</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;lev must be Axis object or pressure array&#39;</span><span class="p">)</span>

    <span class="n">depthax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="n">water_depth</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span>
    <span class="c1">#axes = {&#39;depth&#39;: depthax, &#39;lat&#39;: latax, &#39;lev&#39;: levax}</span>
    <span class="n">slab</span> <span class="o">=</span> <span class="n">SlabOcean</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lat&#39;</span><span class="p">:</span><span class="n">latax</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">:</span><span class="n">depthax</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lat&#39;</span><span class="p">:</span><span class="n">latax</span><span class="p">,</span> <span class="s1">&#39;lev&#39;</span><span class="p">:</span><span class="n">levax</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">slab</span><span class="p">,</span> <span class="n">atm</span></div>

<div class="viewcode-block" id="box_model_domain"><a class="viewcode-back" href="../../../api/climlab.domain.html#climlab.domain.domain.box_model_domain">[docs]</a><span class="k">def</span> <span class="nf">box_model_domain</span><span class="p">(</span><span class="n">num_points</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a box model domain (a single abstract axis).</span>
<span class="sd">    </span>
<span class="sd">    :param int num_points:      number of boxes [default: 2]</span>
<span class="sd">    :returns:                   Domain with single axis of type ``&#39;abstract&#39;`` </span>
<span class="sd">                                and ``self.domain_type = &#39;box&#39;``</span>
<span class="sd">    :rtype:                     :class:`_Domain`</span>
<span class="sd">    </span>
<span class="sd">    :Example:</span>
<span class="sd">    </span>
<span class="sd">        ::</span>
<span class="sd">        </span>
<span class="sd">            &gt;&gt;&gt; from climlab import domain</span>
<span class="sd">            &gt;&gt;&gt; box = domain.box_model_domain(num_points=2)</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; print box</span>
<span class="sd">            climlab Domain object with domain_type=box and shape=(2,)    </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">axis_type</span><span class="o">=</span><span class="s1">&#39;abstract&#39;</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="n">num_points</span><span class="p">)</span>
    <span class="n">boxes</span> <span class="o">=</span> <span class="n">_Domain</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">boxes</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">=</span> <span class="s1">&#39;box&#39;</span>
    <span class="k">return</span> <span class="n">boxes</span></div>
    
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../intro.html">home</a>|&nbsp;</li>
        <li><a href="../../../search.html">search</a>|&nbsp;</li>
        <!-- 
	<li><a href="../../../contents.html">documentation </a> &raquo;</li>
	-->

          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016 (licensed under MIT License), Moritz Kreuzer &amp; Brian Rose.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>